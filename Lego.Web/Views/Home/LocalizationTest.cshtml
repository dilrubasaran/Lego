@using Lego.Localization.Enum
@inject Lego.Localization.Interfaces.ILocalizationService Localizer

@{
    ViewData["Title"] = Localizer.Get("Language", ResourceType.SharedResource);
    var currentCulture = System.Globalization.CultureInfo.CurrentCulture.Name;
}

<!-- Include Header Partial -->
@await Html.PartialAsync("_Header")

<style>
    .language-switcher {
        position: fixed;
        top: 20px;
        right: 20px;
        z-index: 1000;
    }
    
    .lang-btn {
        margin: 0 5px;
        padding: 8px 16px;
        border-radius: 20px;
        text-decoration: none;
        font-weight: bold;
        transition: all 0.3s ease;
    }
    
    .lang-btn.active {
        background: linear-gradient(45deg, #007bff, #0056b3);
        color: white;
        box-shadow: 0 4px 15px rgba(0,123,255,0.3);
    }
    
    .lang-btn:not(.active) {
        background: #f8f9fa;
        color: #495057;
        border: 2px solid #dee2e6;
    }
    
    .lang-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(0,0,0,0.15);
    }
    
    .demo-card {
        background: white;
        border-radius: 15px;
        box-shadow: 0 5px 25px rgba(0,0,0,0.1);
        transition: transform 0.3s ease;
    }
    
    .demo-card:hover {
        transform: translateY(-5px);
    }
    
    .gradient-header {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border-radius: 15px 15px 0 0;
    }
    
    .text-demo {
        padding: 20px;
        border-radius: 10px;
        margin: 10px 0;
        background: linear-gradient(45deg, #f8f9fa, #e9ecef);
    }
    
    .welcome-section {
        background: linear-gradient(45deg, #ff6b6b, #ee5a52);
        color: white;
        border-radius: 15px;
        padding: 30px;
        margin-bottom: 30px;
        text-align: center;
    }
    
    .btn-demo {
        margin: 5px;
        border-radius: 25px;
        padding: 10px 20px;
        border: none;
        font-weight: bold;
        transition: all 0.3s ease;
    }
    
    .btn-demo:hover {
        transform: scale(1.05);
    }
</style>



<div class="container-fluid">
    <!-- Welcome Section -->
    <div class="welcome-section">
        <h1 class="display-4">
            <i class="fas fa-globe"></i> 
            @Localizer.Get("Welcome", ResourceType.SharedResource)
        </h1>
        <p class="lead">@Localizer.Get("Language", ResourceType.SharedResource) Demo</p>
        <small>Current Culture: <strong>@currentCulture</strong></small>
    </div>

    <div class="row">
        <!-- Navigation & Actions -->
        <div class="col-md-6 mb-4">
            <div class="demo-card">
                <div class="gradient-header p-3">
                    <h4><i class="fas fa-navigation"></i> @Localizer.Get("Home", ResourceType.SharedResource) & Actions</h4>
                </div>
                <div class="card-body">
                    <div class="text-demo">
                        <h5>📍 @Localizer.Get("Home", ResourceType.SharedResource)</h5>
                        <p>🔗 @Localizer.Get("About", ResourceType.SharedResource) | @Localizer.Get("Contact", ResourceType.SharedResource)</p>
                        <p>📄 @Localizer.Get("Details", ResourceType.SharedResource) | @Localizer.Get("Files", ResourceType.SharedResource)</p>
                    </div>
                    
                    <div class="mt-3">
                        <button class="btn btn-primary btn-demo">@Localizer.Get("Login", ResourceType.SharedResource)</button>
                        <button class="btn btn-success btn-demo">@Localizer.Get("Save", ResourceType.SharedResource)</button>
                        <button class="btn btn-warning btn-demo">@Localizer.Get("Edit", ResourceType.SharedResource)</button>
                        <button class="btn btn-danger btn-demo">@Localizer.Get("Delete", ResourceType.SharedResource)</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Form Elements -->
        <div class="col-md-6 mb-4">
            <div class="demo-card">
                <div class="gradient-header p-3">
                    <h4><i class="fas fa-user-circle"></i> @Localizer.Get("Login", ResourceType.SharedResource) Form</h4>
                </div>
                <div class="card-body">
                    <form>
                        <div class="mb-3">
                            <label class="form-label">@Localizer.Get("Username", ResourceType.SharedResource)</label>
                            <input type="text" class="form-control" placeholder="@Localizer.Get("Username", ResourceType.SharedResource)">
                        </div>
                        <div class="mb-3">
                            <label class="form-label">@Localizer.Get("Password", ResourceType.SharedResource)</label>
                            <input type="password" class="form-control" placeholder="@Localizer.Get("Password", ResourceType.SharedResource)">
                        </div>
                        <div class="d-flex gap-2">
                            <button type="submit" class="btn btn-primary">@Localizer.Get("Submit", ResourceType.SharedResource)</button>
                            <button type="button" class="btn btn-secondary">@Localizer.Get("Cancel", ResourceType.SharedResource)</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!-- Status Messages -->
        <div class="col-md-6 mb-4">
            <div class="demo-card">
                <div class="gradient-header p-3">
                    <h4><i class="fas fa-info-circle"></i> Status Messages</h4>
                </div>
                <div class="card-body">
                    <div class="alert alert-info">
                        <i class="fas fa-spinner fa-spin"></i> @Localizer.Get("Loading", ResourceType.SharedResource)
                    </div>
                    <div class="alert alert-success">
                        <i class="fas fa-check"></i> @Localizer.Get("Welcome", ResourceType.SharedResource)!
                    </div>
                    <div class="alert alert-warning">
                        <i class="fas fa-exclamation-triangle"></i> @Localizer.Get("AccessDenied", ResourceType.SharedResource)
                    </div>
                    <div class="alert alert-danger">
                        <i class="fas fa-times"></i> @Localizer.Get("NotFound", ResourceType.SharedResource)
                    </div>
                </div>
            </div>
        </div>

        <!-- Navigation & Choices -->
        <div class="col-md-6 mb-4">
            <div class="demo-card">
                <div class="gradient-header p-3">
                    <h4><i class="fas fa-arrows-alt-h"></i> Navigation & Choices</h4>
                </div>
                <div class="card-body">
                    <div class="text-demo">
                        <div class="d-flex justify-content-between">
                            <button class="btn btn-outline-primary">
                                <i class="fas fa-chevron-left"></i> @Localizer.Get("Previous", ResourceType.SharedResource)
                            </button>
                            <button class="btn btn-outline-primary">
                                @Localizer.Get("Next", ResourceType.SharedResource) <i class="fas fa-chevron-right"></i>
                            </button>
                        </div>
                    </div>
                    
                    <div class="text-demo">
                        <h6>Confirmation:</h6>
                        <button class="btn btn-success me-2">
                            <i class="fas fa-check"></i> @Localizer.Get("Yes", ResourceType.SharedResource)
                        </button>
                        <button class="btn btn-danger">
                            <i class="fas fa-times"></i> @Localizer.Get("No", ResourceType.SharedResource)
                        </button>
                    </div>
                    
                    <div class="text-demo">
                        <button class="btn btn-info">
                            <i class="fas fa-sign-out-alt"></i> @Localizer.Get("Logout", ResourceType.SharedResource)
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Dropdown Tests -->
        <div class="col-md-12 mb-4">
            <div class="demo-card">
                <div class="gradient-header p-3">
                    <h4><i class="fas fa-list-ul"></i> Dropdown Localization Test</h4>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-4">
                            <div class="text-demo">
                                <h6><i class="fas fa-cog"></i> Actions Dropdown</h6>
                                <select class="form-select" id="actionsDropdown">
                                    <option value="">@Localizer.Get("Save", ResourceType.SharedResource)</option>
                                    <option value="edit">@Localizer.Get("Edit", ResourceType.SharedResource)</option>
                                    <option value="delete">@Localizer.Get("Delete", ResourceType.SharedResource)</option>
                                    <option value="details">@Localizer.Get("Details", ResourceType.SharedResource)</option>
                                    <option value="cancel">@Localizer.Get("Cancel", ResourceType.SharedResource)</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="col-md-4">
                            <div class="text-demo">
                                <h6><i class="fas fa-globe"></i> @Localizer.Get("Language", ResourceType.SharedResource) Selection</h6>
                                <select class="form-select" id="languageDropdown">
                                    <option value="">-- @Localizer.Get("Language", ResourceType.SharedResource) --</option>
                                    <option value="tr" selected="@(currentCulture.StartsWith("tr"))">
                                        🇹🇷 @Localizer.Get("Turkish", ResourceType.SharedResource)
                                    </option>
                                    <option value="en" selected="@(currentCulture.StartsWith("en"))">
                                        🇺🇸 @Localizer.Get("English", ResourceType.SharedResource)
                                    </option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="col-md-4">
                            <div class="text-demo">
                                <h6><i class="fas fa-folder"></i> Navigation Menu</h6>
                                <select class="form-select" id="navigationDropdown">
                                    <option value="">-- @Localizer.Get("Home", ResourceType.SharedResource) --</option>
                                    <option value="home">🏠 @Localizer.Get("Home", ResourceType.SharedResource)</option>
                                    <option value="about">ℹ️ @Localizer.Get("About", ResourceType.SharedResource)</option>
                                    <option value="contact">📞 @Localizer.Get("Contact", ResourceType.SharedResource)</option>
                                    <option value="files">📁 @Localizer.Get("Files", ResourceType.SharedResource)</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <div class="row mt-3">
                        <div class="col-md-6">
                            <div class="text-demo">
                                <h6><i class="fas fa-user-check"></i> User Actions</h6>
                                <select class="form-select" id="userActionsDropdown" multiple size="4">
                                    <option value="login">🔐 @Localizer.Get("Login", ResourceType.SharedResource)</option>
                                    <option value="logout">🚪 @Localizer.Get("Logout", ResourceType.SharedResource)</option>
                                    <option value="save">💾 @Localizer.Get("Save", ResourceType.SharedResource)</option>
                                    <option value="submit">📤 @Localizer.Get("Submit", ResourceType.SharedResource)</option>
                                </select>
                                <small class="text-muted">Multi-select dropdown</small>
                            </div>
                        </div>
                        
                        <div class="col-md-6">
                            <div class="text-demo">
                                <h6><i class="fas fa-question-circle"></i> Confirmation Options</h6>
                                <select class="form-select" id="confirmationDropdown">
                                    <option value="">-- @Localizer.Get("Submit", ResourceType.SharedResource) --</option>
                                    <option value="yes" class="text-success">✅ @Localizer.Get("Yes", ResourceType.SharedResource)</option>
                                    <option value="no" class="text-danger">❎ @Localizer.Get("No", ResourceType.SharedResource)</option>
                                    <option value="cancel" class="text-warning">❌ @Localizer.Get("Cancel", ResourceType.SharedResource)</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Dropdown Test Results -->
                    <div class="mt-4">
                        <div class="alert alert-info">
                            <h6><i class="fas fa-info-circle"></i> Dropdown Test Instructions:</h6>
                            <ul class="mb-0">
                                <li>🇹🇷 <strong>@Localizer.Get("Turkish", ResourceType.SharedResource)</strong>: Dil değiştir ve dropdown seçeneklerinin değiştiğini gör</li>
                                <li>🇺🇸 <strong>@Localizer.Get("English", ResourceType.SharedResource)</strong>: Dil değiştir ve dropdown seçeneklerinin güncellendiğini gör</li>
                                <li>🔄 Çoklu dropdown türleri farklı senaryoları test eder</li>
                            </ul>
                        </div>
                        
                        <div id="dropdownResult" class="alert alert-secondary">
                            <strong>Seçilen Değer Görüntüle:</strong> 
                            <span id="selectedValueDisplay">@Localizer.Get("Loading", ResourceType.SharedResource)</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Summary Table -->
    <div class="row mt-4">
        <div class="col-12">
            <div class="demo-card">
                <div class="gradient-header p-3">
                    <h4><i class="fas fa-table"></i> Tüm Yerelleştirilmiş Dizeler</h4>
                </div>
                <div class="card-body">
                    <div class="table-responsive">
                        <table class="table table-striped table-hover">
                            <thead class="table-dark">
                                <tr>
                                    <th>Anahtar</th>
                                    <th>Yerelleştirilmiş Değer</th>
                                    <th>İkon</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr><td>Welcome</td><td>@Localizer.Get("Welcome", ResourceType.SharedResource)</td><td>👋</td></tr>
                                <tr><td>Home</td><td>@Localizer.Get("Home", ResourceType.SharedResource)</td><td>🏠</td></tr>
                                <tr><td>About</td><td>@Localizer.Get("About", ResourceType.SharedResource)</td><td>ℹ️</td></tr>
                                <tr><td>Contact</td><td>@Localizer.Get("Contact", ResourceType.SharedResource)</td><td>📞</td></tr>
                                <tr><td>Login</td><td>@Localizer.Get("Login", ResourceType.SharedResource)</td><td>🔐</td></tr>
                                <tr><td>Logout</td><td>@Localizer.Get("Logout", ResourceType.SharedResource)</td><td>🚪</td></tr>
                                <tr><td>Username</td><td>@Localizer.Get("Username", ResourceType.SharedResource)</td><td>👤</td></tr>
                                <tr><td>Password</td><td>@Localizer.Get("Password", ResourceType.SharedResource)</td><td>🔑</td></tr>
                                <tr><td>Language</td><td>@Localizer.Get("Language", ResourceType.SharedResource)</td><td>🌍</td></tr>
                                <tr><td>English</td><td>@Localizer.Get("English", ResourceType.SharedResource)</td><td>🇺🇸</td></tr>
                                <tr><td>Turkish</td><td>@Localizer.Get("Turkish", ResourceType.SharedResource)</td><td>🇹🇷</td></tr>
                                <tr><td>Loading</td><td>@Localizer.Get("Loading", ResourceType.SharedResource)</td><td>⏳</td></tr>
                                <tr><td>Save</td><td>@Localizer.Get("Save", ResourceType.SharedResource)</td><td>💾</td></tr>
                                <tr><td>Edit</td><td>@Localizer.Get("Edit", ResourceType.SharedResource)</td><td>✏️</td></tr>
                                <tr><td>Delete</td><td>@Localizer.Get("Delete", ResourceType.SharedResource)</td><td>🗑️</td></tr>
                                <tr><td>Submit</td><td>@Localizer.Get("Submit", ResourceType.SharedResource)</td><td>📤</td></tr>
                                <tr><td>Cancel</td><td>@Localizer.Get("Cancel", ResourceType.SharedResource)</td><td>❌</td></tr>
                                <tr><td>Yes</td><td>@Localizer.Get("Yes", ResourceType.SharedResource)</td><td>✅</td></tr>
                                <tr><td>No</td><td>@Localizer.Get("No", ResourceType.SharedResource)</td><td>❎</td></tr>
                                <tr><td>Details</td><td>@Localizer.Get("Details", ResourceType.SharedResource)</td><td>📋</td></tr>
                                <tr><td>Files</td><td>@Localizer.Get("Files", ResourceType.SharedResource)</td><td>📁</td></tr>
                                <tr><td>Previous</td><td>@Localizer.Get("Previous", ResourceType.SharedResource)</td><td>⬅️</td></tr>
                                <tr><td>Next</td><td>@Localizer.Get("Next", ResourceType.SharedResource)</td><td>➡️</td></tr>
                                <tr><td>AccessDenied</td><td>@Localizer.Get("AccessDenied", ResourceType.SharedResource)</td><td>🚫</td></tr>
                                <tr><td>NotFound</td><td>@Localizer.Get("NotFound", ResourceType.SharedResource)</td><td>❓</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Font Awesome for icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

<script>
    // İnteraktif efektler ekle
    document.addEventListener('DOMContentLoaded', function() {
        // Kartlar için yumuşak geçiş efektleri
        const cards = document.querySelectorAll('.demo-card');
        cards.forEach(card => {
            card.addEventListener('mouseenter', function() {
                this.style.boxShadow = '0 10px 30px rgba(0,0,0,0.2)';
            });
            card.addEventListener('mouseleave', function() {
                this.style.boxShadow = '0 5px 25px rgba(0,0,0,0.1)';
            });
        });

        // Dropdown değişim kontrolcüleri - test için
        const dropdowns = ['actionsDropdown', 'languageDropdown', 'navigationDropdown', 'userActionsDropdown', 'confirmationDropdown'];
        const selectedValueDisplay = document.getElementById('selectedValueDisplay');
        
        dropdowns.forEach(dropdownId => {
            const dropdown = document.getElementById(dropdownId);
            if (dropdown) {
                dropdown.addEventListener('change', function() {
                    const selectedOption = this.options[this.selectedIndex];
                    const value = this.value;
                    const text = selectedOption ? selectedOption.text : '';
                    
                    if (value) {
                        selectedValueDisplay.innerHTML = `
                            <strong>${dropdownId}:</strong> "${text}" (değer: ${value})
                            <br><small class="text-muted">Seçenek metni dille birlikte değişir! 🌍</small>
                        `;
                        selectedValueDisplay.className = 'text-success';
                    } else {
                        selectedValueDisplay.innerHTML = 'Sonucu görmek için herhangi bir dropdown seçeneği seçin...';
                        selectedValueDisplay.className = 'text-muted';
                    }
                });
            }
        });

        // Dil dropdown'u için özel kontrolcü - gerçek dil değişimi
        const languageDropdown = document.getElementById('languageDropdown');
        if (languageDropdown) {
            languageDropdown.addEventListener('change', function() {
                const selectedLang = this.value;
                if (selectedLang) {
                    const culture = selectedLang === 'tr' ? 'tr-TR' : 'en';
                    
                    // Yükleniyor mesajı göster
                    selectedValueDisplay.innerHTML = `
                        <i class="fas fa-spinner fa-spin"></i> 
                        Dil ${selectedLang.toUpperCase()} olarak değiştiriliyor... Sayfa yenilenecek!
                    `;
                    selectedValueDisplay.className = 'text-info';
                    
                    // Daha iyi UX için kısa gecikme sonrası yönlendir
                    setTimeout(() => {
                        window.location.href = `/Home/ChangeLanguage?culture=${culture}`;
                    }, 1000);
                }
            });
        }

        // Çoklu seçim dropdown kontrolcüsü
        const userActionsDropdown = document.getElementById('userActionsDropdown');
        if (userActionsDropdown) {
            userActionsDropdown.addEventListener('change', function() {
                const selectedOptions = Array.from(this.selectedOptions);
                if (selectedOptions.length > 0) {
                    const selectedTexts = selectedOptions.map(option => option.text);
                    selectedValueDisplay.innerHTML = `
                        <strong>Çoklu Seçim:</strong> ${selectedTexts.join(', ')}
                        <br><small class="text-muted">${selectedOptions.length} seçenek seçildi</small>
                    `;
                    selectedValueDisplay.className = 'text-primary';
                }
            });
        }

        // Başlangıç görünümünü ayarla
        selectedValueDisplay.innerHTML = 'Sonucu görmek için herhangi bir dropdown seçeneği seçin...';
        selectedValueDisplay.className = 'text-muted';
    });
</script>

<!-- Include Footer Partial -->
@await Html.PartialAsync("_Footer")